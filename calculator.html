<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <title>Calculator</title>

    <style>
        .btn{
            margin: 30px 0px 0px 0px;
            width: 100%;
        }

        .col-3 {width: 25%; float: left;}
        .col-4 {width: 33.33%; float: left;}

    </style>
</head>
<body>
    <div class="container">
        <h1> Prateek Calculator</h1>
        
        <input type="text" name="display" id="display" class="form-control">

        <div class="row">
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="(" name="(" id="(" onclick="display(value)">(</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value=")" name=")" id=")" onclick="display(value)">)</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="%" name="%" id="%" onclick="saveValue(value)">%</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="ac" name="ac" id="ac" onclick="clearDisplay()">AC</button>
            </div>
        </div>

        <div class="row">
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="7" name="7" id="7" onclick="display(value)">7</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="8" name="8" id="8" onclick="display(value)">8</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="9" name="9" id="9" onclick="display(value)">9</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="/" name="/" id="/" onclick="saveValue(value)">/</button>
            </div>
        </div>
        
        <div class="row">
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="4" name="4" id="4" onclick="display(value)">4</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="5" name="5" id="5" onclick="display(value)">5</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="6" name="6" id="6" onclick="display(value)">6</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="x" name="x" id="x" onclick="saveValue(value)">x</button>
            </div>
        </div>

        <div class="row">
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="1" name="1" id="1" onclick="display(value)">1</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="2" name="2" id="2" onclick="display(value)">2</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="3" name="3" id="3" onclick="display(value)">3</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="-" name="-" id="-" onclick="saveValue(value)">-</button>
            </div>
        </div>

        <div class="row">
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="0" name="0" id="0" onclick="display(value)">0</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="." name="." id="." onclick="display(value)">.</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="=" name="=" id="=" onclick="operation()">=</button>
            </div>
            <div class="col-3 col-md-3 col-sm-3 col-lg-3">
                <button type="button" class="btn" value="+" name="+" id="+" onclick="saveValue(value)">+</button>
            </div>
        </div>
    </div>



    <script>

        function clearDisplay(){
            // console.log("clear");
            document.getElementById("display").value = 0;
            str = "";
        }

        var str;
        str = "";
        function display(value){

            
            str += value;
            document.getElementById("display").value = str;
        }

        function operation(){
            op = localStorage.getItem('op');
            
            let int1;
            let int2;
            let int3;
            switch(op){
                case "+":
                    console.log("+");
                    // add
                    int1 = parseInt(localStorage.getItem('cal'));
                    int2 = parseInt(document.getElementById("display").value);
                    int3 = int1 + int2;
                    document.getElementById("display").value = int3;
                    break;

                case "-":
                    console.log("-");
                    // sub
                    int1 = parseInt(localStorage.getItem('cal'));
                    int2 = parseInt(document.getElementById("display").value);
                    int3 = int1 - int2;
                    document.getElementById("display").value = int3;
                    break;

                case "x":
                    console.log("x");
                    // mul
                    int1 = parseInt(localStorage.getItem('cal'));
                    int2 = parseInt(document.getElementById("display").value);
                    int3 = int1 * int2;
                    document.getElementById("display").value = int3;
                    break;

                case "/":
                    console.log("/");
                    // div
                    int1 = parseInt(localStorage.getItem('cal'));
                    int2 = parseInt(document.getElementById("display").value);
                    int3 = int1 / int2;
                    document.getElementById("display").value = int3;
                    break;

                case "%":
                    console.log("%");
                    // %
                    int1 = parseInt(localStorage.getItem('cal'));
                    int2 = parseInt(document.getElementById("display").value);
                    int3 = (int1 / int2) * 100;
                    document.getElementById("display").value = int3;
                    break;

                default:
                    console.log("invalid operation");
            }
            str = "";

        }
        
        function saveValue(value){
            console.log(document.getElementById("display").value);
            let val1 = document.getElementById("display").value;
            localStorage.setItem('cal', val1);
            localStorage.setItem('op', value);
            document.getElementById("display").value = 0;
            str = "";
        }


    </script>
    
</body>
</html>